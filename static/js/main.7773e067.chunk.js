(this.webpackJsonpinfinitescroll=this.webpackJsonpinfinitescroll||[]).push([[0],{22:function(e,t,c){},23:function(e,t,c){},42:function(e,t,c){},44:function(e,t,c){},45:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c.n(n),s=c(16),o=c.n(s),r=(c(22),c(3)),i=(c(23),c(7)),u=c(17),l=c.n(u);c(42);var j=c(0),d=a.a.forwardRef((function(e,t){var c=e.post,n=a.a.useState(!1),s=Object(r.a)(n,2),o=s[0],i=s[1],u=a.a.useState(!1),l=Object(r.a)(u,2),d=l[0],f=l[1];return Object(j.jsxs)("div",{className:"post",ref:t,children:[Object(j.jsx)("div",{className:"post-title",children:c.id+". "+c.title}),Object(j.jsx)("p",{className:"post-body",children:c.body}),Object(j.jsxs)("div",{className:"interactions",children:[Object(j.jsx)("div",{className:"like ".concat(o?"active":""),onClick:function(){d&&f((function(e){return!e})),i((function(e){return!e}))},children:Object(j.jsx)("i",{className:"".concat(o?"fas fa-thumbs-up":"far fa-thumbs-up")})}),Object(j.jsx)("div",{className:"love ".concat(d?"active":""),onClick:function(){o&&i((function(e){return!e})),f((function(e){return!e}))},children:Object(j.jsx)("i",{className:"".concat(d?"fas fa-heart":"far fa-heart")})})]})]})}));c(44);function f(){return Object(j.jsx)("div",{className:"spinner"})}var b=function(){var e=Object(n.useState)(1),t=Object(r.a)(e,2),c=t[0],a=t[1],s=localStorage.getItem("DARK_MODE"),o=Object(n.useState)("true"==s),u=Object(r.a)(o,2),b=u[0],O=u[1],h=function(e){var t=Object(n.useState)(!1),c=Object(r.a)(t,2),a=c[0],s=c[1],o=Object(n.useState)(!1),u=Object(r.a)(o,2),j=u[0],d=u[1],f=Object(n.useState)(!1),b=Object(r.a)(f,2),O=b[0],h=b[1],m=Object(n.useState)([]),p=Object(r.a)(m,2),g=p[0],v=p[1];return Object(n.useEffect)((function(){s(!0),l()({method:"GET",url:"https://jsonplaceholder.typicode.com/posts",params:{_page:e,_limit:"10"}}).then((function(e){console.log({result:e}),e.data.length<=0&&d(!0),v((function(t){return[].concat(Object(i.a)(t),Object(i.a)(e.data))})),s(!1),h(!1)})).catch((function(e){h(e),console.log({error:e})}))}),[e]),{loading:a,error:O,posts:g,limitReached:j}}(c),m=h.loading,p=h.error,g=h.posts,v=h.limitReached;Object(n.useEffect)((function(){return console.log("Is in dark mode:",b),console.log(typeof b),localStorage.setItem("DARK_MODE",b),function(){console.log("Is in dark mode:",b)}}),[b]);var x=Object(n.useRef)(),N=Object(n.useCallback)((function(e){m||(x.current&&x.current.disconnect(),x.current=new IntersectionObserver((function(e){e[0].isIntersecting&&!v&&a((function(e){return e+1}))})),e&&x.current.observe(e))}),[m]);return Object(j.jsxs)("div",{className:"App","data-theme":b?"dark":"light",children:[Object(j.jsx)("div",{className:"header",children:Object(j.jsx)("button",{className:"dm-toggle",onClick:function(){O((function(e){return!e}))},children:b?Object(j.jsx)("i",{className:"fas fa-sun"}):Object(j.jsx)("i",{className:"fas fa-moon"})})}),g.map((function(e,t){return t+1===g.length?Object(j.jsx)(d,{post:e,ref:N},e.id):Object(j.jsx)(d,{post:e},e.id)})),m&&Object(j.jsx)(f,{}),p&&Object(j.jsx)("span",{children:"An error occured \ud83d\ude1e"}),v&&Object(j.jsx)("span",{className:"end-reached",children:"You have reached the end \ud83d\ude42"})]})},O=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,46)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,s=t.getLCP,o=t.getTTFB;c(e),n(e),a(e),s(e),o(e)}))};o.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(b,{})}),document.getElementById("root")),O()}},[[45,1,2]]]);
//# sourceMappingURL=main.7773e067.chunk.js.map